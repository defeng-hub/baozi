(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-form-page1"],{"3a41":function(t,e,n){"use strict";var a=n("c6af"),o=n.n(a);o.a},"86d3":function(t,e,n){"use strict";n.r(e);var a=n("d97b"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},c6af:function(t,e,n){var a=n("de7e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("967d").default;o("0abca231",a,!0,{sourceMap:!1,shadowMode:!1})},d785:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var a={uPopup:n("2c97").default,"u-Form":n("b55c").default,uFormItem:n("81a9a").default,"u-Input":n("b8d7").default,uButton:n("9f1f").default},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"continer"},[a("v-uni-view",{staticClass:"title"},[a("v-uni-view",{staticClass:"title1"},[t._v(t._s(t.title1))]),a("v-uni-view",{staticClass:"title2"},[t._v(t._s(t.title2))])],1),a("v-uni-view",{staticClass:"center"},[a("v-uni-image",{staticClass:"logo",attrs:{src:n("5419"),mode:""}})],1),a("v-uni-view",{staticClass:"bottom"},[a("v-uni-view",{staticClass:"btns"},[a("v-uni-view",{staticClass:"btn1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.next.apply(void 0,arguments)}}},[t._v("施工备案提交")]),a("v-uni-view",{staticClass:"btn2",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.query.apply(void 0,arguments)}}},[t._v("施工备案查询")]),a("v-uni-view",{staticClass:"info"},[t._v(t._s(t.end))])],1)],1),a("u-popup",{attrs:{show:t.show,closeable:!0,closeOnClickOverlay:!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"popup"},[a("u--form",{ref:"uForm",staticStyle:{width:"670rpx"},attrs:{labelPosition:"left",model:t.model1,rules:t.rules}},[a("u-form-item",{attrs:{labelWidth:200,label:"手机号：",prop:"phone",borderBottom:!0}},[a("u--input",{attrs:{maxlength:11,placeholder:"手机号必填",border:"none"},model:{value:t.model1.phone,callback:function(e){t.$set(t.model1,"phone",e)},expression:"model1.phone"}})],1),a("u-form-item",{attrs:{labelWidth:200,label:"验证码：",prop:"authcode",borderBottom:!0}},[a("u--input",{attrs:{placeholder:"请输入验证码",border:"none"},model:{value:t.model1.authcode,callback:function(e){t.$set(t.model1,"authcode",e)},expression:"model1.authcode"}}),a("template",{slot:"right"},[a("u-button",{staticStyle:{right:"20rpx"},attrs:{disabled:11!=t.model1.phone.length,type:"primary",plain:!0,size:"mini"}},[t._v("获取验证码")])],1)],2),a("v-uni-view",{staticClass:"btn3",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.queryBeian()}}},[t._v("查询备案记录")])],1)],1)],1)],1)},i=[]},d97b:function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("2634")),i=a(n("2fdc")),r=n("7676"),l={data:function(){return{model1:{phone:"",authcode:""},rules:{phone:{type:"string",required:!0,max:11,min:11,message:"手机号不符合要求",trigger:["blur","change"]}},title1:"",title2:"",end:"",show:!1}},created:function(){var t=this;return(0,i.default)((0,o.default)().mark((function e(){var n,a,i;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(r.getKey+"title1",{});case 2:return n=e.sent,t.title1=n.data.value,e.next=6,t.$http.get(r.getKey+"title2",{});case 6:return a=e.sent,t.title2=a.data.value,e.next=10,t.$http.get(r.getKey+"end",{});case 10:i=e.sent,t.end=i.data.value;case 12:case"end":return e.stop()}}),e)})))()},methods:{next:function(){console.log("next"),uni.navigateTo({url:"/pages/form/page2"})},query:function(){this.show=!0},queryBeian:function(){var t=this;return(0,i.default)((0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.uForm.validate().then(function(){var e=(0,i.default)((0,o.default)().mark((function e(n){var a,i,l,s,d,u;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.model1),e.next=3,t.$http.get(r.getTableByPhone+t.model1.phone,{});case 3:a=e.sent,console.log(a),200==a.code&&("查看对象不存在或无权查看"==a.msg?uni.showToast({title:"未查询到任何备案",icon:"none"}):"审核未通过"==(null===(i=a.data)||void 0===i?void 0:i.status)?uni.navigateTo({url:"/pages/form/page4?HJnq8c="+(null===(d=a.data)||void 0===d?void 0:d.id)}):""==(null===(l=a.data)||void 0===l?void 0:l.status)?uni.navigateTo({url:"/pages/form/page4?HJnq8c="+(null===(u=a.data)||void 0===u?void 0:u.id)}):"审核通过"==(null===(s=a.data)||void 0===s?void 0:s.status)&&console.log("审核通过审核通过审核通过"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){uni.$u.toast("资料填写不完整")}));case 1:case"end":return e.stop()}}),e)})))()},close:function(){this.show=!1}}};e.default=l},de7e:function(t,e,n){var a=n("c86c"),o=n("2ec5b"),i=n("7ad3");e=a(!1);var r=o(i);e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* uni.scss */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */*[data-v-5daa584e]{box-sizing:border-box}html[data-v-5daa584e], body[data-v-5daa584e]{overflow-y:scroll;height:100%}uni-page-body[data-v-5daa584e]{background-image:url('+r+");background-size:cover}body.?%PAGE?%[data-v-5daa584e]{background-image:url("+r+");background-size:cover}.popup[data-v-5daa584e]{min-height:%?500?%;margin-top:%?20?%;padding:%?40?% %?32?%;width:94.7vw;background:#fff;border-radius:%?8?%}.popup .btn3[data-v-5daa584e]{margin-top:%?50?%;margin-left:%?120?%;width:%?450?%;height:%?70?%;background:#0047ff;border-radius:%?40?%;color:#fff;text-align:center;line-height:%?70?%}.continer[data-v-5daa584e]{z-index:1;width:100%;height:110vh}.continer .bottom[data-v-5daa584e]{position:fixed;bottom:%?50?%;z-index:100}.continer .bottom .info[data-v-5daa584e]{margin-top:%?20?%;font-weight:400;font-size:%?24?%;color:#888;line-height:%?34?%;text-align:center;font-style:normal}.continer .bottom .btns[data-v-5daa584e]{padding:%?20?% %?70?%}.continer .bottom .btns .btn1[data-v-5daa584e]{width:%?600?%;height:%?92?%;background:#0047ff;border-radius:%?40?%;color:#fff;text-align:center;line-height:%?92?%}.continer .bottom .btns .btn2[data-v-5daa584e]{margin-top:%?40?%;width:%?600?%;height:%?92?%;background:#0047ff;border-radius:%?40?%;color:#0047ff;text-align:center;line-height:%?92?%;background:#fff;border:%?2?% solid #0047ff}.continer .center[data-v-5daa584e]{position:absolute;position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column}.continer .center .logo[data-v-5daa584e]{top:%?300?%;position:absolute;margin-top:%?160?%;width:%?500?%;height:%?500?%}.continer .title[data-v-5daa584e]{position:absolute}.continer .title .title1[data-v-5daa584e]{position:absolute;top:%?150?%;text-align:center;height:%?85?%;font-weight:700;font-size:%?56?%;color:#fff;line-height:%?85?%;letter-spacing:4px;font-style:normal;text-transform:none;width:100vw}.continer .title .title2[data-v-5daa584e]{position:absolute;text-align:center;top:%?230?%;height:%?56?%;font-weight:700;font-size:%?40?%;color:#fff;line-height:%?56?%;letter-spacing:2px;font-style:normal;text-transform:none;width:100vw}",""]),t.exports=e},f864:function(t,e,n){"use strict";n.r(e);var a=n("d785"),o=n("86d3");for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("3a41");var r=n("828b"),l=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"5daa584e",null,!1,a["a"],void 0);e["default"]=l.exports}}]);